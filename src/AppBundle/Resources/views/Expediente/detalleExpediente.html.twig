{% extends "AppBundle::layout.html.twig" %}

{% block content %}

    <style>
        input[type=text]{
            margin-bottom: 10px;
            padding:10px;            
        }
        input[type=submit]{
            margin-bottom: 10px;
            padding:10px;            
        }
        .expediente{
            margin-right: 12px;
            padding:5px;
            font-size:15px;
        }

        .btn{
            width:30px;
            padding:5px;
            height:30px;
        }

    </style>
    <div class="formu col-lg-12">
        <div class="border border-primary">

            <div class="list-group col-lg-11 col-md-offset-1">
                <div class="expediente col-lg-10 panel panel-primary">
                    <div class="panel-heading" style="font-size:18px;">
                        <i class="far fa-file"></i> Detalle del Expediente - Nro. {{ expediente.nroExpediente}}
                    </div>
                    <table class="table table-striped table-hover"> 
                        <thead>
                        <br/>
                        </thead>
                        <tbody>
                            <tr>
                                <th class="info list-group col-lg-3">Tema: </th>
                                <td>{{ expediente.tema}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Concepto: </th>
                                <td>{{ expediente.concepto}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Cantidad de fojas:  </th>
                                <td>{{ expediente.fojas}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Tipo: </th>
                                <td>{{ expediente.tipo}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Iniciador Dependencia:  </th>
                                <td>{{ expediente.iniciadorDependencia}}</td>
                            </tr>
                            <tr>
                                <th class="info ">Fecha de Inicio:  </th>
                                <td>{{ expediente.fechaInicio|date("d/m/Y")}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Fecha de Finalización:  </th>
                                <td>{{ expediente.fechaFin|date("d/m/Y")}}</td>
                            </tr>
                            <tr>
                                <th class="info list-group">Ubicación Actual:  </th>
                                <td>{{ expediente.ubicacionActual}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <th>
                                <td><a href="#"><input type="button" class="btn btn-info" value="Editar Expediente"/></a></td>
                            </th>
                    </table>
                </div>  

                <div class="expediente col-lg-10 panel panel-primary">
                    <div class="panel-heading" style="font-size:18px;">
                        Expedientes asociados
                    </div>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Nro. Expediente</th>
                                <th scope="col">Descripción</th>
                                <th scope="col">Código</th>
                                <th scope="col">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>

                            {% for expediente_asoc in expediente.ExpedientesAsociados.getValues %}
                                <tr>
                                    <td>{{expediente_asoc.expedienteAsociado}}</td>
                                    <td>{{expediente_asoc.expedienteAsociado.tema.descripcion}}</td>
                                    <td>{{expediente_asoc.expedienteAsociado.tema.codigo}}</td>
                                    <td><a class="btn btn-info" href="{{ path("ver_expediente", {'id':expediente_asoc.expedienteAsociado.id}) }}"  role="button" title="Ver Detalle"><i class="fas fa-search"></i></a>
                                        <a class="btn btn-warning" href="{{ path("editar_expediente", {'id':expediente_asoc.expedienteAsociado.id}) }}"  role="button" title="Modificar"><i class="fas fa-edit"></i></a>
                                        <a class="btn btn-danger" href="{{ path("eliminar_expediente", {'id':expediente_asoc.expedienteAsociado.id}) }}"  role="button" title="Archivar"><i class="fas fa-trash-alt"></i></a></td>
                                </tr>
                            {% endfor %}

                        </tbody>
                    </table>
                </div>

                <div class="expediente col-lg-10 panel panel-primary">
                    <div class="panel-heading" style="font-size:18px;">
                        Resolución
                    </div>
                    <table class="table table-striped table-hover"> 
                        <thead>
                        <br/>
                        </thead>
                        <tbody>
                            <tr>
                                <th class="info list-group col-lg-3">Resolución:  </th>
                                <td>{{ expediente.resolucion}}</td>
                            </tr>
                        </tbody>

                    </table>
                </div> 

                <div class="expediente col-lg-10 panel panel-primary">
                    <div class="panel-heading" style="font-size:18px;">
                        Carátulas
                    </div>
                    <table class="table table-striped table-hover"> 
                        <thead>
                            <tr>
                                <th scope="col">Tema</th>
                                <th scope="col">Concepto</th>
                                <th scope="col">Cantidad de Fojas</th>
                                
                            </tr>
                        </thead>
                        
                        <tbody>

                            {% for caratulaAgregada in expediente.caratulas.getValues %}
                                
                                <tr>
                                    <td>{{caratulaAgregada.tema.descripcion}}</td>
                                    <td>{{caratulaAgregada.concepto}}</td>
                                    <td>{{caratulaAgregada.fojas}}</td>
                                    <td>
                                    <a class="btn btn-warning" href="{{ path("editar_caratula", {'id':caratulaAgregada.id}) }}"  role="button"><i class="fas fa-edit"></i></a>
                                    <a class="btn btn-danger" href="{{ path("eliminar_caratula", {'id':caratulaAgregada.id}) }}"  role="button"><i class="fas fa-trash-alt"></i></a></td>
                                </tr>
                                
                            {% endfor %}

                        </tbody>
                        
                    </table>
                            <hr/>
                            
                    Agregar nueva Carátula<a class="btn btn-warning" href="{{ path('nueva_caratula',{'id':expediente.id}) }}"  role="button"><i class="fas fa-file"></i></a>

                </div>



                <div class="expediente col-lg-10 panel panel-primary">
                    <div class="panel-heading" style="font-size:18px;">
                        Movimientos
                    </div>
                    <table class="table table-striped table-hover"> 
                        <thead>
                        <br/>
                        </thead>
                        <tbody>
                            <tr>
                                <th class="info list-group col-lg-3">Movimientos:   </th>
                                <td> {#{{ expediente.movimientos}}#}</td>
                            </tr>
                        </tbody>

                    </table>
                </div>


                <div class="col-lg-3 float left">
                    <a class="btn btn-primary" onclick="history.back()"  role="button">Volver</a>
                </div>

                <div class="col-lg-3 float left">
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <div/>
                </div>



            </div>
        </div>

    {% endblock %}